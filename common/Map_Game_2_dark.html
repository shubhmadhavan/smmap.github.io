<!DOCTYPE html>
<html lang="en">
      <link href="data:image/x-icon;base64,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" rel="icon" type="image/x-icon" />
<head>
    <title>SMMAP</title>
    <link rel="stylesheet" href="location_color.css" />

    <!-- common files start -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial=">
    <link rel="stylesheet" href="leaflet.css" />
	<link rel="stylesheet" href="game_1.css" />
    <link id="themeStylesheet" rel="stylesheet" href="theme1.css">
    <!-- common files end -->

</head>



<a href="../index.html" class="top-right-link">‚åÇ</a>
<div class="toggle-map">üëÅ</div>
<div class="toggle-map-2"><img src="..\Map_Images\india_icon_2.png"></div>
<div class="toggle-map-3"><img src="..\Map_Images\india_icon_3.png"></div>

<div class="toggle-map-4"><img src="..\Map_Images\india_icon_4.png"></div>
<div class="toggle-map-5"><img src="..\Map_Images\india_icon_5.png"></div>


<script src="theme_selector.js" defer> </script>
<script src="theme_map_toggler.js" defer> </script>


<script src="map_data_selector.js"></script>

<body>


    <script>
        window.onload = function() {
            // Get the 'selection' URL parameter
            const urlParams = new URLSearchParams(window.location.search);
            const selection = urlParams.get('selection');
            
            // If the 'selection' parameter exists, append it to the link's href
            if (selection) {
                const link = document.querySelector('.switcher');
                link.href = `Map_Game_dark.html?selection=${selection}`; // Set the correct URL
            }
        };
    </script>
    
    <a class="switcher" href="Map_Game_dark.html">
        <span class="switcher-text">‚áå</span>
    </a>

<button class="reveal-all">Reveal All</button> 




<script>
// Track the state of the reveal-all tooltips
let allTooltipsVisible = false;

// Keep track of all added tooltip layers
let revealedLayers = [];

// Add a click event listener to the "reveal-all" button
document.querySelector('.reveal-all').addEventListener('click', function () {
    // Toggle the visibility of all tooltips
    allTooltipsVisible = !allTooltipsVisible;

    if (allTooltipsVisible) {
        // Loop through all geographical data and add tooltips
        for (const river in mapData) {
            const geometry = parseGeometry(mapData[river]);

            if (geometry.type === 'Point') {
                // Create a circle marker and add it to the map
                const marker = L.circleMarker(geometry.coordinates, {
                    radius: 5,
                    color: '#60A6C2',
                    stroke: '#60A6C2',
                    weight: 2,
                    fillColor: '#60A6C2',
                    fillOpacity: 1
                }).bindTooltip(river, { permanent: true, className: 'reveal-all-tooltip' }).addTo(map);

                // Add the marker to the tracking array
                revealedLayers.push(marker);
            } else if (geometry.type === 'LineString') {
                // Create a polyline and add it to the map
                const polyline = L.polyline(geometry.coordinates, {
                    color: '#60A6C2',
                    weight: 3,
                    opacity: 1
                }).bindTooltip(river, { permanent: true, className: 'reveal-all-tooltip' }).addTo(map);

                // Add the polyline to the tracking array
                revealedLayers.push(polyline);
            }
        }
    } else {
        // Remove all previously added layers
        revealedLayers.forEach(layer => map.removeLayer(layer));

        // Clear the tracking array
        revealedLayers = [];
    }
});

</script>

<div id="header"></div>

<div id="map" style="margin-top:-5px;"></div>
<div id="result"></div>

<script src="leaflet.js"></script>


<script>
// Get the 'selection' URL parameter
const urlParams = new URLSearchParams(window.location.search);
const selection = urlParams.get('selection');

// Define a variable to hold the script and CSS path
let scriptPath = '';
let cssPath = '';

// Define a mapping of selections to script and CSS paths
const resourcesMap = {
    'riv_1': { script: '../Map_Geography/Map_Rivers/map_data.js', css: '../Map_Geography/Map_Rivers/location_color.css' },
    'mt_1': { script: '../Map_Geography/Map_Mountains/map_data.js', css: '../Map_Geography/Map_Mountains/location_color.css' },
    'wf_1': { script: '../Map_Geography/Map_Waterfalls/map_data.js', css: '../Map_Geography/Map_Waterfalls/location_color.css' },
    'dm_1': { script: '../Map_Geography/Map_Reservoirs/map_data.js', css: '../Map_Geography/Map_Reservoirs/location_color.css' },
    'rs_1': { script: '../Map_Geography/Map_Ramsar/map_data.js', css: '../Map_Geography/Map_Ramsar/location_color.css' },
    'np_1': { script: '../Map_Geography/Map_National_Park/map_data.js', css: '../Map_Geography/Map_National_Park/location_color.css' },
    'tr_1': { script: '../Map_Geography/Map_Tiger_Res/map_data.js', css: '../Map_Geography/Map_Tiger_Res/location_color.css' },
    'Por_1': { script: '../Map_History/Map_3.1_Portuguese/map_data.js', css: '../Map_History/Map_3.1_Portuguese/location_color.css' },
    'Dutch_1': { script: '../Map_History/Map_3.2_Dutch/map_data.js', css: '../Map_History/Map_3.2_Dutch/location_color.css' },
    'Eng_1': { script: '../Map_History/Map_3.3_English/map_data.js', css: '../Map_History/Map_3.3_English/location_color.css' },
    'Dan_1': { script: '../Map_History/Map_3.3_Danish/map_data.js', css: '../Map_History/Map_3.3_Danish/location_color.css' },
    'Fra_1': { script: '../Map_History/Map_3.4_French/map_data.js', css: '../Map_History/Map_3.4_French/location_color.css' },
    'Ports_1': { script: '../Map_Economy/Map_2_Ports/map_data.js', css: '../Map_Economy/Map_2_Ports/location_color.css' },
    'NPP_1': { script: '../Map_Economy/Map_1_NPP/map_data.js', css: '../Map_Economy/Map_1_NPP/location_color.css' },
    'air_1': { script: '../Map_Economy/Map_5_Airports/map_data.js', css: '../Map_Economy/Map_5_Airports/location_color.css' }
};

// Check if the selection is valid and assign the appropriate script and CSS paths
const resources = resourcesMap[selection] || null;

if (resources) {
    // Dynamically load the CSS file
    const link = document.createElement('link');
    link.rel = 'stylesheet';
    link.href = resources.css;
    document.head.appendChild(link);

    // Dynamically load the map_data.js script
    const script = document.createElement('script');
    script.src = resources.script;
    script.onload = function() {
        // Once map_data.js is loaded, dynamically load map_game.js
        const gameScript = document.createElement('script');
        gameScript.src = 'map_game_2.js';
        document.head.appendChild(gameScript); // Attach map_game.js script to the document
    };
    document.head.appendChild(script); // Attach map_data.js script to the document
} else {
    console.log('Invalid or missing selection parameter');
}

</script>


</body>
</html>
